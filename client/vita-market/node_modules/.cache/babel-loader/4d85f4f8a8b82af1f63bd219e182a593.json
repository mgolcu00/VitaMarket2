{"ast":null,"code":"var _jsxFileName = \"/Users/mert/Desktop/vt_odev/client/vita-market/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport Market from './components/Market/Market';\nimport Login from './components/Login/Login';\nimport { AppContext } from './context/ContextLib';\nimport Dealer from './components/Login/Dealer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction addProductToBasket(product_id, basket_id) {\n  return fetch('http://localhost:3000/basket/add', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      basket_id: basket_id,\n      product_id: product_id\n    })\n  }).then(response => response.json());\n}\n\nfunction getUserBasket(user_id) {\n  return fetch(`http://localhost:3000/basket/${user_id}/products`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(response => response.json());\n}\n\nfunction createBasket(user_id) {\n  return fetch('http://localhost:3000/basket/create', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      user_id: user_id\n    })\n  }).then(response => response.json());\n}\n\nfunction getBasket(basket_id) {\n  return fetch(`http://localhost:3000/basket/${basket_id}`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(response => response.json());\n}\n\nfunction App() {\n  _s();\n\n  const [token, setToken] = useState(localStorage.getItem('token'));\n  const [basketId, setBasketId] = useState(localStorage.getItem('basketId'));\n  const [basket, setBasket] = useState([]);\n\n  const fetchBasket = () => {\n    if (basketId) {\n      getBasket(basketId).then(basket => {\n        setBasket(basket);\n      });\n    }\n  };\n\n  const addBasket = product_id => {\n    if (basketId) {\n      addProductToBasket(product_id, basketId).then(response => {\n        setBasket(response.basket);\n      });\n    } else {\n      alert('no basket');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/dealer\",\n        children: token ? /*#__PURE__*/_jsxDEV(Dashboard, {\n          token: token\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 20\n        }, this) : /*#__PURE__*/_jsxDEV(Dealer, {\n          setToken: setToken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        children: token ? /*#__PURE__*/_jsxDEV(Market, {\n          addBasket: addBasket\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 20\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {\n          setToken: setToken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n} //   return (\n//     <AppContext.Provider value={{ token, setToken, userType, setUserType }}>\n//       <BrowserRouter>\n//         <Switch>\n//           {token ?\n//             <Route path=\"/dealer\" >\n//               <Dashboard token={token} />\n//             </Route>\n//             :\n//             <Route path=\"/dealer\" component={Dealer} />\n//           }\n//           <Route path=\"/market\" component={Market} />\n//           <Route path=\"/login\" component={Login} />\n//         </Switch>\n//       </BrowserRouter>\n//     </AppContext.Provider>\n//   );\n// }\n\n\n_s(App, \"wktlkx0dTy4tEMwvNW3cwvwoenw=\");\n\n_c = App;\nexport default App; //   if (!token) {\n//     return (\n//       <BrowserRouter>\n//         <Switch>\n//           <Route path=\"/login\"  >\n//             <Login setToken={setToken} setUserType={setUserType} />\n//           </Route>\n//           <Route path=\"/dealer\">\n//             <Delaer setToken={setToken} setUserType={setUserType} />\n//           </Route>\n//         </Switch>\n//       </BrowserRouter>)\n//   }\n//   if (userType === 'Dealer') {\n//     return (\n//       <AppContext.Provider value={{ token, setToken }}>\n//         <div className=\"wrapper\">\n//           <BrowserRouter>\n//             <Switch>\n//               <Route path=\"/dealer\" >\n//                 <Dashboard token={token} />\n//               </Route>\n//             </Switch>\n//           </BrowserRouter>\n//         </div>\n//       </AppContext.Provider>\n//     );\n//   }\n//   console.log(token);\n//   return (<BrowserRouter>\n//     <Switch>\n//       <Route path=\"/login/market\">\n//         <Market />\n//       </Route>\n//     </Switch>\n//   </BrowserRouter>)\n// }\n// if (userType === 'Dealer') {\n//   if (token) {\n//     return (\n//       <Route path=\"/dashboard\" >\n//         <Dashboard token={token} />\n//       </Route>\n//     );\n//   }\n//   return (\n//     <Route path=\"/dealer\" >\n//       <Dealer setToken={setToken} setUserType={setUserType} />\n//     </Route>\n//   );\n// }\n// else if (token) {\n//   return (\n//     <Route path=\"/market\" >\n//       <Market />\n//     </Route>\n//   );\n// }\n// else {\n//   return (\n//     <Route path=\"/login\" >\n//       <Login />\n//     </Route>\n//   );\n// }\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/mert/Desktop/vt_odev/client/vita-market/src/App.js"],"names":["React","useState","BrowserRouter","Route","Switch","Dashboard","Market","Login","AppContext","Dealer","addProductToBasket","product_id","basket_id","fetch","method","headers","body","JSON","stringify","then","response","json","getUserBasket","user_id","createBasket","getBasket","App","token","setToken","localStorage","getItem","basketId","setBasketId","basket","setBasket","fetchBasket","addBasket","alert"],"mappings":"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;AAAA;AAAA,gBAAH,gBAAsC,QAAC,KAAD;AAAO,UAAA,QAAQ,EAAER;AAAjB;AAAA;AAAA;AAAA;AAAA;AAD9C;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAaD,C,CAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;GA9DSF,G;;KAAAA,G;AAgET,eAAeA,GAAf,C,CAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAKE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport Market from './components/Market/Market';\nimport Login from './components/Login/Login';\nimport { AppContext } from './context/ContextLib'\nimport Dealer from './components/Login/Dealer';\n\nfunction addProductToBasket(product_id, basket_id) {\n  return fetch('http://localhost:3000/basket/add',\n    {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        basket_id: basket_id,\n        product_id: product_id\n      })\n    })\n    .then(response => response.json())\n}\n\nfunction getUserBasket(user_id) {\n  return fetch(`http://localhost:3000/basket/${user_id}/products`,\n    {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(response => response.json())\n}\n\nfunction createBasket(user_id) {\n  return fetch('http://localhost:3000/basket/create',\n    {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user_id: user_id\n      })\n    })\n    .then(response => response.json())\n}\n\nfunction getBasket(basket_id) {\n  return fetch(`http://localhost:3000/basket/${basket_id}`,\n    {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(response => response.json())\n}\n\nfunction App() {\n\n\n  const [token, setToken] = useState(localStorage.getItem('token'));\n  const [basketId, setBasketId] = useState(localStorage.getItem('basketId'));\n  const [basket, setBasket] = useState([]);\n\n  const fetchBasket = () => {\n    if(basketId) {\n      getBasket(basketId)\n        .then(basket => {\n          setBasket(basket);\n        });\n    }\n  }\n  const addBasket = (product_id) => {\n    if(basketId) {\n      addProductToBasket(product_id, basketId)\n        .then(response => {\n          setBasket(response.basket);\n        })\n    }else\n    {\n      alert('no basket');\n    }\n  }\n\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/dealer\" >\n          {token ? <Dashboard token={token} /> : <Dealer setToken={setToken} />}\n        </Route>\n        <Route path=\"/\" >\n          {token ? <Market addBasket={addBasket} /> : <Login setToken={setToken} />}\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  );\n\n}\n\n\n\n//   return (\n//     <AppContext.Provider value={{ token, setToken, userType, setUserType }}>\n//       <BrowserRouter>\n//         <Switch>\n//           {token ?\n//             <Route path=\"/dealer\" >\n//               <Dashboard token={token} />\n//             </Route>\n//             :\n//             <Route path=\"/dealer\" component={Dealer} />\n//           }\n//           <Route path=\"/market\" component={Market} />\n//           <Route path=\"/login\" component={Login} />\n//         </Switch>\n//       </BrowserRouter>\n//     </AppContext.Provider>\n//   );\n// }\n\nexport default App;\n\n\n//   if (!token) {\n//     return (\n\n\n//       <BrowserRouter>\n//         <Switch>\n//           <Route path=\"/login\"  >\n//             <Login setToken={setToken} setUserType={setUserType} />\n//           </Route>\n//           <Route path=\"/dealer\">\n//             <Delaer setToken={setToken} setUserType={setUserType} />\n//           </Route>\n//         </Switch>\n//       </BrowserRouter>)\n//   }\n\n//   if (userType === 'Dealer') {\n//     return (\n//       <AppContext.Provider value={{ token, setToken }}>\n//         <div className=\"wrapper\">\n//           <BrowserRouter>\n//             <Switch>\n//               <Route path=\"/dealer\" >\n//                 <Dashboard token={token} />\n//               </Route>\n//             </Switch>\n//           </BrowserRouter>\n//         </div>\n//       </AppContext.Provider>\n//     );\n//   }\n\n//   console.log(token);\n//   return (<BrowserRouter>\n//     <Switch>\n//       <Route path=\"/login/market\">\n//         <Market />\n//       </Route>\n\n//     </Switch>\n//   </BrowserRouter>)\n// }\n\n\n\n\n  // if (userType === 'Dealer') {\n  //   if (token) {\n  //     return (\n  //       <Route path=\"/dashboard\" >\n  //         <Dashboard token={token} />\n  //       </Route>\n  //     );\n  //   }\n  //   return (\n  //     <Route path=\"/dealer\" >\n  //       <Dealer setToken={setToken} setUserType={setUserType} />\n  //     </Route>\n  //   );\n  // }\n  // else if (token) {\n  //   return (\n  //     <Route path=\"/market\" >\n  //       <Market />\n  //     </Route>\n  //   );\n  // }\n  // else {\n  //   return (\n  //     <Route path=\"/login\" >\n  //       <Login />\n  //     </Route>\n  //   );\n  // }\n"]},"metadata":{},"sourceType":"module"}